<ui:composition template="/resources/templates/home-template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components">

	<ui:define name="content">

		<h:form id="form1" styleClass="contentFeature">

			<ace:panel header="Gestionar Proyectos">

				<h:panelGroup> 	
							
					<ace:dataTable id="dataTableProjects" value="#{projectBean.projectAll}"
						var="_item">

						<ace:column id="id">
							<f:facet name="header">
								<h:outputText value="ID" />
							</f:facet>
							<h:outputText id="rolId" value="#{_item.id}" />
						</ace:column>

						<ace:column id="nombre">
							<f:facet name="header">
								<h:outputText value="Nombre" />
							</f:facet>
							<h:outputText id="projectNombre" value="#{_item.nombre}" />
						</ace:column>
						
						<ace:column id="fechaInicio">
							<f:facet name="header">
								<h:outputText value="Fecha de Inicio (dd-MM-yyyy)" />
							</f:facet>
							<h:outputText id="projectFechaInicio" value="#{_item.fechaInicio}" />
						</ace:column>
						
						<ace:column id="fechaFin">
							<f:facet name="header">
								<h:outputText value="Fecha de Finalización (dd-MM-yyyy)" />
							</f:facet>
							<h:outputText id="projectFechaFin" value="#{_item.fechaFin}" />
						</ace:column>
						
						<ace:column id="alcanceProject">
							<f:facet name="header">
								<h:outputText value="Alcance" />
							</f:facet>
							<h:outputText id="projectAlcance" value="#{_item.objeto}" />
						</ace:column>
						
						<ace:column id="porcentaje">
							<f:facet name="header">
								<h:outputText value="Porcentaje" />
							</f:facet>
							<h:outputText id="projectPorcentaje" value="#{_item.porcentaje}" />
						</ace:column>	
						
						<ace:column id="responsable">
							<f:facet name="header">
								<h:outputText value="Persona Responsable" />
							</f:facet>
							<h:outputText id="projectPersonaResponsable" value="#{_item.personaResponsable}" />
						</ace:column>	
												
						<ace:column id="acciones">
							<f:facet name="header">

								<h:commandButton id="idBtnAdd" styleClass="btn_s_add"
									actionListener="#{projectBean.addProject}" type="button">
									<f:ajax execute="@this" render="@all" />
								</h:commandButton>
							</f:facet>

							<h:commandButton id="idBtnEdit" styleClass="btn_s_editar"
								rendered="#{_item.editable}" actionListener="#{projectBean.editProject}"
								type="button">
								<f:ajax execute="@this" render="@all" />
							</h:commandButton>
						</ace:column>		
						<ace:column id="eliminar">
							<f:facet name="header">
								<h:outputText value="Eliminar" />
							</f:facet>
							<h:commandButton id="idBtnEliminar" styleClass="btn_s_eliminar"
								rendered="true" actionListener="#{projectBean.deleteProject}"
								type="button">
								<f:ajax execute="@this" render="@all" />
							</h:commandButton>
						</ace:column>
						<ace:column id="ver">
							<f:facet name="header">
								<h:outputText value="Ver" />
							</f:facet>
							<h:commandButton id="idBtnVer" styleClass="btn_s_ver"
								rendered="true" actionListener="#{projectBean.viewProject}"
								type="button">
								<f:ajax execute="@this" render="@all" />
							</h:commandButton>
						</ace:column>
					</ace:dataTable>
				</h:panelGroup>
			</ace:panel>
		</h:form>

		<h:form id="formDialog">
			<h:panelGroup>
				<!-- Sección del Popup para capturar los datos del Proyecto -->
				<ace:dialog id="dialogRol" visible="#{projectBean.visiblePopup}"
					closable="false" header="#{projectBean.headerDialog}" draggable="true"
					modal="true" width="400">

					<h:panelGrid>

						<ace:textEntry id="dialogProjectNombre" value="#{projectBean.nombreProject}"
							label="Nombre: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogInicioProject" value="#{projectBean.fechaInicioProject}"
							label="Fecha de Inicio: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}">
						</ace:textEntry>   
						
						<ace:textEntry id="dialogFinProject" value="#{projectBean.fechaFinProject}"
							label="Fecha de Finalización: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogStateProject" value="#{projectBean.estadoProject}"
							label="Estado Proyecto: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}"
							rendered="#{!projectBean.visibleView}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectObjeto" value="#{projectBean.objetoProject}"
							label="Alcance: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectPersonaResponsable" value="#{projectBean.personaResponsableProject}"
							label="Persona Responsable: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectPorcentaje" value="#{projectBean.porcentajeProject}"
							label="Porcentaje de avance " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}"
							rendered="#{!projectBean.visibleView}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectFechaCreacion" value="#{projectBean.fechaCreacionProject}"
							label="Fecha de Creación " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}"
							rendered="#{!projectBean.visibleView}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectUsuarioCreacion" value="#{projectBean.usuarioCreacionProject}"
							label="Usuario Creación " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}"
							rendered="#{!projectBean.visibleView}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectFechaUltimoCambio" value="#{projectBean.fechaUltimoCambioProject}"
							label="Fecha Último Cambio: " labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}"
							rendered="#{!projectBean.visibleView}">
						</ace:textEntry>
						
						<ace:textEntry id="dialogProjectUsuarioUltimoCambio" value="#{projectBean.usuarioUltimoCambioProject}"
							label="Usuario Último Cambio" labelPosition="left" required="true"
							requiredIndicator="(*)" readonly="#{projectBean.visibleDelete}"
							rendered="#{!projectBean.visibleView}">
						</ace:textEntry>
						
						<ace:pushButton id="dialogRolBtnGuardar"
							action="#{projectBean.saveAction}" label="Guardar" rendered="#{!projectBean.visibleDelete}">
						</ace:pushButton>
						<ace:pushButton id="dialogRolBtnCancelar"
							action="#{projectBean.cancelAction}" label="Cancelar" rendered="#{!projectBean.visibleDelete}">
						</ace:pushButton>
						
						<h:panelGroup style="float: right;position:absolute;right:0;top:0;">
                            <h:commandButton image="../img/btn_s_cancelar.png"
                                             alt="Close" title="Close"
                                             style="height: 11px; width: 11px; border: 0;"
                                             actionListener="#{projectBean.popupClose}"
                                             rendered="#{!projectBean.visibleView}"/>
                        </h:panelGroup>

					</h:panelGrid>
				</ace:dialog>
			</h:panelGroup>
		</h:form>

	</ui:define>

</ui:composition>